filter {
    if [fields][document_type] ==  "nginx-access" {
            grok {
                    match => [ "message" , "%{NGINXACCESS}" ]
                    overwrite => [ "message" ]
            }
            mutate {
                    convert => ["request_duration", "float"]
                    convert => ["upstream_duration", "float"]
                    convert => ["upstream_connect_time", "float"]
                    convert => ["upstream_header_time", "float"]
                    convert => ["bytes", "integer"]
        }
    }
}
